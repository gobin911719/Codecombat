# If the peasant is damaged, the flowers will shrink!

def summonSoldiers():
    if hero.gold >= hero.costOf("soldier"):
        hero.summon("soldier")

# Define the function: commandSoldiers
def commandSoldiers():
    # 首先找到大部队
    army = hero.findByType("soldier")
    #aaa888 定义为是army中的一个常量
    for aaa888 in army:
        #aaa888 周围的敌人
        enemy = aaa888.findNearestEnemy()
        #如果有敌人，并且敌人距离小于5时攻击：
        if enemy and aaa888.distanceTo(enemy)<5:            
            hero.command(aaa888, "attack", enemy)
            #否则，守护peasant
        else:
            hero.command(aaa888, "move", peasant.pos)
# Define the function: pickUpNearestCoin

def pickUpNearestCoin():
    nearest = hero.findNearest(hero.findItems())
    if nearest:
        hero.move(nearest.pos)
    
    
peasant = hero.findByType("peasant")[0]

while True:
    summonSoldiers()
    commandSoldiers()
    pickUpNearestCoin()
